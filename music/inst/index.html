<!DOCTYPE html>
<html>
<head>
  <title>inst</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="./slick/slick.css">
  <!--<link rel="stylesheet" type="text/css" href="./slick/slick-theme.css">-->
  <style type="text/css">
  @font-face {
    font-family: Mirishita;
    src: url(./font/mirishita.ttf);
  }
  @font-face {
    font-family: Assistant;
    src: url(./font/assistant.ttf);
  }
    html, body {
	font-family: Assistant;
      margin: 0;
      padding: 0;
		text-align: center;
		background-color: #FDFDFD;
    }

    * {
      box-sizing: border-box;
    }
	
    .slider {
        width: 100%;
        padding-top: 5%;
    }
	
	.spacer {
		border-radius:0 0 100% 100%;
        margin-top: -5%;
        padding-bottom: 10%;
	}
	
	.all {
	    background: linear-gradient(to right, #F3F27C , #CAE9B4, #96D8EC, #BDD0EC, #F2B7E0, #BDD0EC, #96D8EC, #CAE9B4, #F3F27C);
	}
	
	.princess {
	    background: linear-gradient(to right, #E7B3A4 , #D8949F, #E690BA, #D8949F, #E7B3A4);
	}
	
	.fairy {
	    background: linear-gradient(to right, #90E8EF , #70B8DE, #6A9FEF, #70B8DE, #90E8EF);
	}
	
	.angel {
	    background: linear-gradient(to right, #D5F178 , #D7D26A, #E9CB73, #D7D26A, #D5F178);
	}
	
    .slick-slide img {
      width: 100%;
    }

    .slick-prev:before,
    .slick-next:before {
      color: black;
    }

    .slick-slide {
      transition: all ease-in-out .3s;
	  filter: brightness(50%);
      transform: scale(.8) translateY(-12.5%);
    }

    .slick-current {
      transform: none;
	  filter: brightness(100%);
    }
	
	.nowplaying {
		margin-top: 1%;
	    z-index: 1;
		position: relative;
	    float: left;
	    font-family: Assistant;
		font-size: 2vw;
	}
	
	.songname {
		margin-top: 1%;
	    font-family: Mirishita;
	    margin-left: 15.4%;
	    text-align: left;
		font-size: 3vw;
		line-height: 2.5ex;
		margin-bottom: 1%;
	}
	
	.button {
	    width: 19%;
	    font-family: Assistant;
		text-align: center;
        margin: 0% 3%;
		padding-top: 0.8%;
		padding-bottom: 0.8%;
		text-decoration: none;
		display: inline-block;
		font-size: 2.4vw;
		border-radius:5em;
		border: black;
		border-style: solid;
		border-width: thin;
	}
	
	.redbutton {
		color: white;
	    background: linear-gradient(to right, #FF7B9E , #FF3F3F);
	}
	
	.redbutton:active {
	    background: linear-gradient(to right, #E15D80 , #E12020);
	}
	
	.whitebutton {
		color: black;
	    background: linear-gradient(to right, #FFFFFF , #DDE5F5);
	}
	
	.whitebutton:active {
	    background: linear-gradient(to right, #E1E1E1 , #BFC7D7);
	}
	
	.volume-slider {
	    width: 100%;
		padding-top: 1.3%;
		text-align: center;
		color: black;
		display: inline-block;
		font-size: 1.8vw;
		text-decoration: none;
	}
	
	input[type=range] {
	    width: 69.3%;
		border-radius:5em;
		padding: 1% 0%;
		background: #d3d3d3;
		outline: none;
		opacity: 0.7;
		transition: opacity .2s;
	}

	input[type=range]:hover {
		opacity: 1;
	}
	
	input[type=range]::-webkit-slider-thumb {
		border: 1px solid #000000;
		padding: 1.5% 0%;
		height: 100%;
		width: 3%;
		border-radius:5em;
	    background: linear-gradient(to right, #FFFFFF , #DDE5F5);
		cursor: pointer;
		margin-top: 0%;
	}

	input[type=range]::-moz-range-thumb {
		border: 1px solid #000000;
		padding: 1.5% 0%;
		height: 100%;
		width: 3%;
		border-radius:5em;
	    background: linear-gradient(to right, #FFFFFF , #DDE5F5);
		cursor: pointer;
	}

	input[type=range]::-ms-thumb {
		border: 1px solid #000000;
		padding: 1.5% 0%;
		height: 100%;
		width: 3%;
		border-radius:5em;
	    background: linear-gradient(to right, #FFFFFF , #DDE5F5);
		cursor: pointer;
	}
  </style>
</head>
<body>
  <div class="nowplaying" id="np"></div>
  <section class="slider all" id="slickslider">
  </section>
  <section class="spacer all" id="spacer">
  </section>
  <div class="songname"></div>
   <button class="button redbutton" onclick="Play()">Play</button><button class="button whitebutton" onclick="Stop()">Stop</button><button class="button whitebutton" onclick="Download()">Download</button><br>
  <section class="volume-slider">
   Volume<br>
   <input class="input" type="range" min="0" max="100.0" step=".1" value="100" oninput="SetVolume(this.value)" onchange="SetVolume(this.value)"></input>
  </section>
   
  <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
  <script src="./slick/slick.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">
  if (!Array.prototype.includes) {
  Object.defineProperty(Array.prototype, "includes", {
    enumerable: false,
    value: function(obj) {
        var newArr = this.filter(function(el) {
          return el == obj;
        });
        return newArr.length > 0;
      }
  });
}
  var aud = document.createElement("AUDIO");
  aud.onended = function() {
	  $("#np").html("");
  }; 
  var songs = ["bnthtr", "thanky", "welcom", "drming", "shtstr", "gsbaby", "grwstm", "ftjair",
               "stdalv", "angelp", "drmtrv", "priamb", "homesf", "kuraki", "aikost", "nijile",
			   "hsymph", "zetbre", "jireru", "meltyf", "bcolor", "hzwend", "ethamo", "sakuha"];
  var songgroups = [["bnthtr", "thanky", "welcom", "drming"],
                ["grwstm", "priamb", "homesf", "aikost", "zetbre", "jireru", "bcolor", "sakuha"],
				["shtstr", "ftjair", "kuraki", "meltyf", "ethamo"],
				["gsbaby", "stdalv", "angelp", "drmtrv", "nijile", "hsymph", "hzwend"]];
  var groups = ["all", "princess", "fairy", "angel"];
  var longsongnames = ["Brand New Theater!", "Thank You!", "Welcome!!", "Dreaming!", "Shooting Stars", "Good-Sleep, Baby♡", "Growing Storm!", "FairyTale ja Irarenai",
                       "STANDING ALIVE", "Angelic Parade♪", "Dream Traveler", "Princess Be Ambitious!!", "HOME, SWEET FRIENDSHIP", "Kuraki Hoshi, Tooi Tsuki", "Aikotoba wa Start Up!", "Nijiiro letters",
					   "Hoshikuzu no Symphonia", "ZETTAI × BREAK!! Twinkle Rhythm", "Jireru Heart ni Hi o Tsukete", "Melty Fantasia", "Birth of Color", "Hanazakari Weekend✿", "Eternal Harmony", "Saku wa Ukiyo no Kimi Hanabi"]

	  $(document).on('ready', function() {
	  var generatedhtml = "";
	  for(var i = 0; i < songs.length; ++i){
	    generatedhtml += '<div><img src="./jacket/jacket_' + songs[i] + '.png"></div>';
	  }
	  $("#slickslider").html(generatedhtml);
	  $(".songname").html(longsongnames[0]);
      $(".slider").slick({
        dots: false,
        infinite: true,
        centerMode: true,
        slidesToShow: 5,
		swipeToSlide: true,
		arrows: false,
		touchThreshold: 15
      });
    });
	$('.slider').on('click', '.slick-slide', function (e) {
            e.stopPropagation();
            var index = $(this).data("slick-index");
            if ($('.slider').slick('slickCurrentSlide') !== index) {
                  $('.slider').slick('slickGoTo', index);
            }
        });
	$('.slider').on('beforeChange', function (e, slick, currSlide, nextSlide) {
			for(var i = 0; i < 4; ++i){
				if($("#slickslider").hasClass(groups[i]))
				{
					$("#slickslider").removeClass(groups[i]);
					$("#spacer").removeClass(groups[i]);
				}
				if(songgroups[i].includes(songs[nextSlide]))
				{
					$("#slickslider").addClass(groups[i]);
					$("#spacer").addClass(groups[i]);
				}
			}
			$(".songname").html(longsongnames[nextSlide]);
        });
function Play() {
    aud.setAttribute("src","./mp3/bgm_inst_" + songs[$('.slider').slick('slickCurrentSlide')] + ".mp3");
	aud.play();
	$("#np").html("&nbsp;&nbsp;▶ Now Playing: " + longsongnames[$('.slider').slick('slickCurrentSlide')]);
}
function Stop() {
    aud.pause();
	$("#np").html("");
}
		
function Download() {
    window.location.href = "./mp3/bgm_inst_" + songs[$('.slider').slick('slickCurrentSlide')] + ".mp3";
}

function SetVolume(vol)
{
    aud.volume = vol / 100;
}
</script>

</body>
</html>
